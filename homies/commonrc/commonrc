# vi: ft=sh

source ~/.commonrc/path.sh

###
### Set up asdf-vm
###
if test -d $HOME/.asdf; then
    # In order to bypass asdf shims, we *only* add the `ASDF_DIR/bin`
    # directory to PATH, since we still want to use `asdf` but not its shims.
    export ASDF_DIR="$HOME/.asdf"
    export PATH="$PATH:$ASDF_DIR/bin"
    source $HOME/.asdf/completions/asdf.bash

    export ASDF_PYTHON_PATCHES_DIRECTORY="$HOME/.dotfiles/asdf-python-patches"
fi

export VISUAL=vim
export EDITOR=vim

if [ -n "$DISPLAY" ]; then
    export BROWSER=chromium
else
    export BROWSER=elinks
fi

export FZF_DEFAULT_COMMAND='rg --files --hidden'
export FZF_CTRL_T_COMMAND=$FZF_DEFAULT_COMMAND
##################################

### Workaround for that ridiculous Java bug on xmonad
# https://wiki.archlinux.org/index.php/Java#Applications_not_resizing_with_WM.2C_menus_immediately_closing
export _JAVA_AWT_WM_NONREPARENTING=1

###
### Configure less
###
export LESS="--no-init --quit-if-one-screen --RAW-CONTROL-CHARS"

source ~/.commonrc/aliases

# startx at login
[[ -z $DISPLAY && $XDG_VTNR -eq 1 && -z $TMUX ]] && exec startx
