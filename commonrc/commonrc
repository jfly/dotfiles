# vi: ft=sh

source ~/.commonrc/path.sh

###
### Set up asdf-vm
###
if test -d $HOME/.asdf; then
    # In order to bypass asdf shims. We *only* add the `ASDF_DIR/bin`
    # directory to PATH, since we still want to use `asdf` but not its shims.
    export ASDF_DIR="$HOME/.asdf"
    export PATH="$PATH:$ASDF_DIR/bin"
    source $HOME/.asdf/completions/asdf.bash
fi

export VISUAL=vim
export EDITOR=vim

# Don't set BROWSER because if you do, then `xdg-settings get default-web-browser` returns
# something other than "chromium.desktop", which then causes chromium to complain when starting
# up that it's not the default browser.
#export BROWSER=chromium

# Urg, termite sets this to xterm-termite, which causes ssh to freak out when running tput.
export TERM=xterm

export FZF_DEFAULT_COMMAND='ag --hidden --ignore .git -g ""'
export FZF_CTRL_T_COMMAND=$FZF_DEFAULT_COMMAND
##################################

###
### Set up ctrl-shift-n for VTE
###
[[ -f /etc/profile.d/vte.sh ]] && source /etc/profile.d/vte.sh
##################################

###
### Set up Go
###
export GOPATH=~/go
##################################

### Workaround for that ridiculous Java bug on xmonad
# https://wiki.archlinux.org/index.php/Java#Applications_not_resizing_with_WM.2C_menus_immediately_closing
export _JAVA_AWT_WM_NONREPARENTING=1

###
### Configure less
###
export LESS="--no-init --quit-if-one-screen --RAW-CONTROL-CHARS"

source ~/.commonrc/aliases

# startx at login
[[ -z $DISPLAY && $XDG_VTNR -eq 1 && -z $TMUX ]] && exec startx
